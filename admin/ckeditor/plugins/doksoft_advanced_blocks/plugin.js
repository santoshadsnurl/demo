(function(){var d=0;var e=[{},{classes:"(span[0-9]+|offset[0-9]+|col-xs-[0-9]+|col-md-[0-9]+|col-sm-[0-9]+|col-lg-[0-9]+|col-xs-offset-[0-9]+|col-md-offset-[0-9]+|col-sm-offset-[0-9]+|col-lg-offset-[0-9]+|row-fluid|row)",eye:/visible-print|visible-lg|visible-md|visible-sm|visible-xs|hidden-print|hidden-lg|hidden-md|hidden-sm|hidden-xs/i,sizesReg:/col-(md|lg|sm|xs)/i,offsetReg:/col-(lg|md|sm)-offset/i,rowClassesReg:/row-fluid|row/i,colClassesReg:/span[0-9]+|offset[0-9]+|col-xs-[0-9]+|col-md-[0-9]+|col-sm-[0-9]+|col-lg-[0-9]+|col-xs-offset-[0-9]+|col-md-offset-[0-9]+|col-sm-offset-[0-9]+|col-lg-offset-[0-9]+/i},{classes:"(large-[0-9]+|medium-[0-9]+|small-[0-9]+|large-offset-[0-9]+|medium-offset-[0-9]+|small-offset-[0-9]+|row)",eye:/show-for-small-only|show-for-medium-up|show-for-medium-only|show-for-large-up|show-for-large-only|show-for-xlarge-up|show-for-xlarge-only|show-for-xxlarge-up|show-for-landscape|show-for-portrait/i,sizesReg:/(large|medium|small)/i,offsetReg:/(large|medium|small)-offset/i,rowClassesReg:/row/i,colClassesReg:/large-[0-9]+|medium-[0-9]+|small-[0-9]+|large-offset-[0-9]+|medium-offset-[0-9]+|small-offset-[0-9]+|columns/i}];var c=["p","span","div","th","td"];var a=function(g){return g.name.replace(/\[/,"_").replace(/\]/,"_");};var b=function(g,h){if(typeof(window["doksoft_advanced_blocks"])=="undefined"){window["doksoft_advanced_blocks"]=[];}window["doksoft_advanced_blocks"][g]=h;};var f=function(g){if(typeof(window["doksoft_advanced_blocks"])=="undefined"||typeof(window["doksoft_advanced_blocks"][g])=="undefined"){return null;}return window["doksoft_advanced_blocks"][g];};CKEDITOR.plugins.add("doksoft_advanced_blocks",{icons:"doksoft_advanced_blocks",lang:"en",init:function(g){if(typeof g.lang["doksoft_advanced_blocks"]["doksoft_advanced_blocks"]!="undefined"){g.lang["doksoft_advanced_blocks"]=g.lang["doksoft_advanced_blocks"]["doksoft_advanced_blocks"];}var m=function(aj,al){var ag=aj.getElementsByTagName("link");var ak=false;for(var ah=0;ah<ag.length;ah++){if(ag[ah].href.indexOf(al)!=-1){ak=true;}}if(!ak){var ai=aj.createElement("link");ai.href=al;ai.type="text/css";ai.rel="stylesheet";aj.head.appendChild(ai);}};var C=function(ah,ag){m(g.document.$,ah);if(ag){m(document,ah);}};var L=function(ag){var ai=g.document.$;var ah=ai.createElement("style");ai.head.appendChild(ah);ah.innerHTML=ag;};var T=function(){var ag=".doksoft_advanced_blocks_show p,"+".doksoft_advanced_blocks_show div,"+".doksoft_advanced_blocks_show span"+"{ "+"min-width:"+g.config["doksoft_advanced_blocks_min_div_width"]+";"+"min-height:"+g.config["doksoft_advanced_blocks_min_div_height"]+";"+"margin: "+g.config["doksoft_advanced_blocks_margin_top"]+"px "+g.config["doksoft_advanced_blocks_margin_right"]+"px "+g.config["doksoft_advanced_blocks_margin_bottom"]+"px "+g.config["doksoft_advanced_blocks_margin_left"]+"px;"+"}";if(!g.config["doksoft_advanced_blocks_highlight_blocks"]){ag+=".doksoft_advanced_blocks_show[data-doksoft_advanced_blocks-X-selected] { background-color: transparent !important; }";}};var o=function(){return g.elementMode==3;};var j=function(){if(o()){return g.element;}else{return g.document.getBody();}};var ac=function(){return j().$;};var q=function(){return CKEDITOR.version.charAt(0)=="4";};var z=function(ah,ag){if(!new RegExp("\b"+ag+"\b","g").test(ah.className)){ah.className+=" "+ag;}ah.className=ah.className.trim();};var r=function(aj,ag){var ai=F(aj);var ak="";for(var ah=0;ah<ai.length;ah++){if(ak.length>0){ak+=" ";}if(ai[ah]!=ag){ak+=ai[ah];}}aj.className=ak;aj.className=aj.className.trim();};var F=function(ag){if(typeof(ag.className)==="undefined"||ag.className==null){return[];}return ag.className.split(/\s+/);};var R=function(aj,ag){var ai=F(aj);for(var ah=0;ah<ai.length;ah++){if(ai[ah]==ag){return true;}}return false;};var ad=function(ai,aj){var ah=F(ai);for(var ag=0;ag<ah.length;ag++){if(ah[ag].indexOf(aj)===0){return true;}}return false;};var ab=false;var K=function(){var ah=ac();ae(ah,false);z(ah,"doksoft_advanced_blocks_show");var ag=j();ag.on("mousedown",w);g.on("selectionChange",p);g.window.on("keydown",y);ab=true;window["doksoft_advanced_blocks_turner"][g.name]["isOn"]=true;};var S=function(){E();var ag=A;K();H(ag);};var E=function(){var aj=j();aj.removeListener("mousedown",w);g.removeListener("selectionChange",p);u();var ai=ac();r(ai,"doksoft_advanced_blocks_show");var ak=ai.getElementsByClassName("doksoft_advanced_blocks_temper_place");for(var ag=ak.length-1;ag>=0;ag--){var ah=ak[ag];ah.parentElement.removeChild(ah);}Q(ai);window["doksoft_advanced_blocks_turner"][g.name]["isOn"]=false;ab=false;};if(typeof(window["doksoft_advanced_blocks_turner"])=="undefined"){window["doksoft_advanced_blocks_turner"]=[];}if(typeof(window["doksoft_advanced_blocks_turner"][g.name])=="undefined"){window["doksoft_advanced_blocks_turner"][g.name]=[];}window["doksoft_advanced_blocks_turner"][g.name]["isOn"]=false;window["doksoft_advanced_blocks_turner"][g.name]["on"]=K;window["doksoft_advanced_blocks_turner"][g.name]["off"]=E;
var Q=function(aj){if(aj.nodeType!=1){return;}var ai=F(aj);var ak="";for(var ah=0;ah<ai.length;ah++){if(ak.length>0){ak+=" ";}if(ai[ah].indexOf("doksoft_advanced_blocks")!==0){ak+=ai[ah];}}aj.className=ak.trim();var ag=aj.childNodes;for(var ah=0;ah<ag.length;ah++){Q(ag[ah]);}};var p=function(ag){H(g.elementPath().elements[0]?g.elementPath().elements[0].$:false);};var w=function(ah){if(!ab){return;}var ag=ah.data.$.target||ah.data.$.srcElement;H(ag);};var ae=function(aj,ah){if(aj.nodeType!=1){return;}if(ad(aj,"doksoft_advanced_blocks")){return;}if(ah&&c.indexOf(aj.tagName.toLowerCase())>=0){U(aj);}var ag=aj.childNodes;for(var ai=0;ai<ag.length;ai++){ae(ag[ai],true);}};var M=function(aj){var ai=null;for(var ah=aj.childNodes.length-1;ah>=0;ah--){if(R(aj.childNodes[ah],"doksoft_advanced_blocks_temper_place")){aj.childNodes[ah].parentElement.removeChild(aj.childNodes[ah]);}}var ag=F(aj);for(var ah=ag.length-1;ah>=0;ah--){if(ag[ah].indexOf("doksoft_advanced_blocks-top-offset-")>-1){ag.splice(ah,1);}}aj.classes=ag.join(" ").trim();};var U=function(al){if(R(al,"glyphicon")){return;}var aj=al.tagName.toLowerCase();var ap=g.document.$;var ao=ap.createElement("a");ao.className="doksoft_advanced_blocks_temper_place";ao.setAttribute("contenteditable",false);al.appendChild(ao);var am=7;switch(d){case 0:V(aj,ao);break;case 1:case 2:var ah=h(e[d].classes,al.className);var ai=g.config["doksoft_advanced_blocks_multiline_titles"]?"clearex":"delimer";if(e[d].eye.test(al.className)){var ar=aj;if(aj=="div"){if(e[d].rowClassesReg.test(al.className)){ar="row";}else{if(e[d].colClassesReg.test(al.className)){ar="col";}}}else{if(aj!="span"&&aj!="table"&&aj!="p"){ar="div";}}V("eye-"+ar,ao);}if(ah&&ah.length){var an={},aq="",ag="";for(var ak in ah){ag=ah[ak].toLowerCase();if(aq=e[d].sizesReg.exec(ag)){if(!an[aq[0]]){an[aq[0]]=[];}if(!~an[aq[0]].indexOf(ag)){an[aq[0]].push(ag);}}else{an[ag]=[ag];}}for(aq in an){an[aq].sort();for(var ak in an[aq]){if(an[aq][ak].match(e[d].offsetReg)&&an[aq].length==1&&g.config["doksoft_advanced_blocks_multiline_titles"]){V(an[aq][ak],ao,true);}else{V(an[aq][ak],ao);}}V(ai,ao);if(ai=="clearex"){am+=7;}}}else{V("delimer",ao);V(aj,ao);}break;}V("clearex",ao);z(al,"doksoft_advanced_blocks-top-offset-"+am);return ao;};var V=function(ak,aj,ah){var ai=g.document.$,ag=ai.createElement("i");ag.className="doksoft_advanced_blocks_temper_block doksoft_advanced_blocks_"+ak.replace(/[0-9]+/g,"x")+" doksoft_advanced_blocks_"+ak;ag.setAttribute("title",ak);ag.setAttribute("contenteditable",false);aj.appendChild(ag);if(ah){ag.style.marginLeft=(parseInt(ag.offsetWidth)+3)+"px";}};var X=function(ag){var ah=ag;var ai=ac();while(true){if(ah.tagName.toLowerCase()=="table"){return ah;}if(ah.parentElement==null||ah.parentElement==ai){return null;}ah=ah.parentElement;}};var A=null;var aa=null;var H=function(ai){while(ai!=null&&!(ai.nodeType==1&&ad(ai,"doksoft_advanced_blocks-top-offset-"))){ai=ai.parentNode;}if(ai==null||!ad(ai,"doksoft_advanced_blocks_temper_block_menu")){t();}if(ai==ac()||ai==null){u();return;}if(ad(ai,"doksoft_advanced_blocks_temper_block")){ai=ai.parentElement.parentElement;}else{if(ad(ai,"doksoft_advanced_blocks_temper_place")){ai=ai.parentElement;}}if(A==ai){return;}u();A=ai;z(A,"doksoft_advanced_blocks-selected");var ak=g.document.$;var ag=[ak.createElement("a"),ak.createElement("a"),ak.createElement("a"),ak.createElement("a"),ak.createElement("a")];var al=[];var aj=null;if(ai.tagName.toLowerCase()=="td"||ai.tagName.toLowerCase()=="th"){aj=X(ai);if(aj!=null){al=[ag[0],null,null,ag[3],ag[4]];ag[0]=null;ag[3]=null;ag[4]=null;}}Z(ai,ag);if(al.length>0){Z(aj,al);}if(window["doksoft_blocks_select_"+a(g)]){for(var ah=0;ah<window["doksoft_blocks_select_"+a(g)].length;ah++){window["doksoft_blocks_select_"+a(g)][ah](g,A);}}};var Y=function(){var ag=["div","span","p","tag","code","table","cols"];aa=g.document.$.createElement("a");aa.setAttribute("contenteditable",false);aa.className="doksoft_advanced_blocks_temper_block_menu";for(var ai in ag){var ah=g.document.$.createElement("a");ah.setAttribute("contenteditable",false);ah.className="doksoft_advanced_blocks_temper_block_menu_item doksoft_advanced_blocks_temper_block_menu_item_"+ag[ai];ah.onmousedown=function(al){var ak=al||window.event;var aj=al.srcElement||al.target;P(aj);ak.preventDefault();ak.stopPropagation();};aa.appendChild(ah);}};var O=function(ah){var ag=ah.parentElement;if(R(ah,"doksoft_advanced_blocks_temper_block_plus4")){g.fire("doksoft_advanced_blocks_delete",{parent:ag});}else{t();ag.appendChild(aa);i(ah,B(ah,g.document.$,g.document.getWindow()),ah.className.match(/plus([0-3]{1})/)[1],ag);}};var Z=function(ag,ai){for(var ah in ai){if(ai[ah]==null){continue;}ai[ah].className="doksoft_advanced_blocks_temper_block_plus doksoft_advanced_blocks_temper_block_plus"+ah+" doksoft_advanced_blocks_"+name;ai[ah].setAttribute("contenteditable",false);ai[ah].addEventListener("mousedown",function(aj){var ak=aj||window.event;O(this,ag);ak.preventDefault();ak.stopPropagation();
},false);ag.appendChild(ai[ah]);}};var J=function(ai){var ah=ai.getElementsByClassName("doksoft_advanced_blocks_temper_block_menu");for(var ag=ah.length-1;ag>=0;ag--){ah[ag].parentElement.removeChild(ah[ag]);}ah=ai.getElementsByClassName("doksoft_advanced_blocks_temper_block_plus");for(var ag=ah.length-1;ag>=0;ag--){ah[ag].parentElement.removeChild(ah[ag]);}};var u=function(){if(A!=null){r(A,"doksoft_advanced_blocks-selected");J(A);if(A.tagName.toLowerCase()=="td"||A.tagName.toLowerCase()=="th"){var ah=X(A);J(ah);}A=null;if(window["doksoft_blocks_select_"+a(g)]){for(var ag=0;ag<window["doksoft_blocks_select_"+a(g)].length;ag++){window["doksoft_blocks_select_"+a(g)][ag](g,null);}}}};var t=function(){if(aa.parentElement!=null){aa.parentElement.removeChild(aa);}aa.removeAttribute("active");};var P=function(ai){var al=g.document.$;var ag="div";var an=null;var ah=ai.parentElement.parentElement;var am=aa.getAttribute("active");if(ah.nodeType==1&&["td","th"].indexOf(ah.tagName.toLowerCase())>-1&&(am==0||am==3)){ah=X(ah);}t();switch(true){case !!~ai.className.search(/item_(div|p|span)/):an=al.createElement(ag=ai.className.match(/item_(div|p|span)/)[1]);an.innerHTML=ag;k(an,ah,am);break;case !!~ai.className.search(/item_(tag)/):b("selectedElement",ah);b("selectedPosition",am);g.openDialog("doksoft_advanced_blocks_insert_tag_"+g.name);break;case !!~ai.className.search(/item_(code)/):b("selectedElement",ah);b("selectedPosition",am);g.openDialog("doksoft_advanced_blocks_insert_code_"+g.name);break;case !!~ai.className.search(/item_(table)/):b("selectedElement",ah);b("selectedPosition",am);g.openDialog("doksoft_advanced_blocks_insert_table_"+g.name);break;case !!~ai.className.search(/item_(cols)/):var aj=d==1?"doksoft_bootstrap_templates":"doksoft_foundation_templates";window[aj+"_callback"]=[];b("selectedElement",ah);b("selectedPosition",am);var ak=CKEDITOR.tools.addFunction(function(ao){var ap=CKEDITOR.dom.element.createFromHtml(ao);k(ap.$,f("selectedElement"));});window[aj+"_callback"]["func"]=ak;g.openDialog(aj+"-"+g.name);break;}};var af=function(aj,ai){var ag=F(aj);var ak=d==1?new RegExp("^(col|visible|hidden)-(lg|md|sm|xs)-"):new RegExp("^((large|medium|small)|((show|hide)-for-(small|medium|large|xlarge|xxlarge|landscape|portrait)))-");for(var ah=ag.length-1;ah>=0;ah--){if(ak.test(ag[ah])){ag.splice(ah,1);}}ag=ag.concat(ai);aj.className=ag.join(" ").trim();S();};if(false){g.ui.addButton("doksoft_advanced_blocks",{command:"doksoft_advanced_blocks",icon:this.path+"icons/doksoft_advanced_blocks.png",title:g.lang["doksoft_advanced_blocks"].title});}g.on("contentDom",function(){C(CKEDITOR.basePath+CKEDITOR.plugins.basePath+"doksoft_advanced_blocks/style.css",true);Y();if(!o()||f("styleEmbedded")!=null){var ag=T();L(ag);if(o()){b("styleEmbedded",true);}}});var W=function(){if(g.mode=="source"||!ab){return;}S();};var N=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(N){var I=new N(function(ah){if(!ab){return;}for(var ai=0;ai<ah.length;ai++){var ag=ah[ai];if(ag.type=="attributes"){if(ag.attributeName.toLowerCase()=="class"&&!ad(ag.target,"doksoft_advanced_blocks")){M(ag.target);U(ag.target);}}else{if(ag.type=="childList"){for(var aj=0;aj<ag.addedNodes.length;aj++){if(!ad(ag.addedNodes[aj],"doksoft_advanced_blocks")){ae(ag.addedNodes[aj],true);}}}}}});}else{console.log("You are using old browser, Advanced Blocks functionality is restricted under it.");}g.on("contentDom",function(){if(I){var ag=setInterval(function(){if(typeof g.document==="object"){I.observe(ac(),{childList:true,subtree:true});clearInterval(ag);}},100);}g.document.on("drop",W);g.document.getBody().on("drop",W);});if(!window["doksoft_blocks_change_"+a(g)]){window["doksoft_blocks_change_"+a(g)]=[];}window["doksoft_blocks_change_"+a(g)]=function(ai,ah,ag){af(ah,ag);};var B=function(aj,aq,ap){var am=aj.getBoundingClientRect();var an=aq.body;var ah=aq.documentElement;var ag=ap.pageYOffset||ah.scrollTop||an.scrollTop;var ak=ap.pageXOffset||ah.scrollLeft||an.scrollLeft;var al=ah.clientTop||an.clientTop||0;var ao=ah.clientLeft||an.clientLeft||0;var ar=am.top+ag-al;var ai=am.left+ak-ao+am.width;return{top:Math.round(ar),left:Math.round(ai)};};var h=function(aj,ak){var ah=new RegExp(aj,"ig");var ag=ak.match(ah);matchArray=new Array();for(var ai in ag){nonGlobalRegex=new RegExp(aj);nonGlobalMatch=ag[ai].match(nonGlobalRegex);matchArray.push(nonGlobalMatch[1]);}return matchArray;};var G=function(ag){};var i=function(aj,ak,an,ag){if(aa.getAttribute("active")==an){aa.removeAttribute("active");return;}aa.setAttribute("active",parseInt(an));aa.style.left=aa.style.right=aa.style.top=aa.style.bottom="auto";var am=false;if(an==1||an==2){if(aj.parentElement.tagName.toLowerCase()=="p"||aj.parentElement.tagName.toLowerCase()=="span"){am=true;}}if(an==0||an==3){var ai=aj.parentElement;if(ai.parentElement==null||["h1","h2","h3","h4","h5","h6","p","b","big","i","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","var","a","bdo","br","img","map","object","q","script","span","sub","sup","button","input","label","select","textarea"].indexOf(ai.parentElement.tagName.toLowerCase())!==-1){am=true;
}}var ah=aa.getElementsByClassName("doksoft_advanced_blocks_temper_block_menu_item_div");ah[0].style.display=am?"none":"block";var al=true;if((d==1&&typeof(CKEDITOR.plugins.loaded["doksoft_bootstrap_templates"])!="undefined"&&CKEDITOR.plugins.loaded["doksoft_bootstrap_templates"]==1)||(d==2&&typeof(CKEDITOR.plugins.loaded["doksoft_foundation_templates"])!="undefined"&&CKEDITOR.plugins.loaded["doksoft_foundation_templates"]==1)){if(!am){al=false;}}ah=aa.getElementsByClassName("doksoft_advanced_blocks_temper_block_menu_item_cols");ah[0].style.display=al?"none":"block";switch(parseInt(an)){case 0:aa.style.left=(-aa.offsetWidth-1)+"px";break;case 1:aa.style.left="0px";aa.style.left="0px";break;case 2:aa.style.right="0px";break;case 3:aa.style.right=(-aa.offsetWidth-1)+"px";break;}switch(parseInt(an)){case 1:case 0:aa.style.top=(aj.offsetHeight+1)+"px";aa.style.marginBottom="0px";break;case 3:case 2:aa.style.bottom="1px";aa.style.marginBottom="-"+aa.offsetHeight+"px";break;}};var k=function(ai,ah,ag){var aj=ag?parseInt(ag):parseInt(f("selectedPosition"));if((ah.tagName=="td"||ah.tagName=="th")&&(aj==0||aj==3)){ah=X(ah);if(ah==null){return;}}switch(aj){case 0:ah.parentNode.insertBefore(ai,ah);break;case 1:ah.insertBefore(ai,ah.firstChild);break;case 2:ah.appendChild(ai);break;case 3:ah.parentNode.insertBefore(ai,ah.nextSibling);break;}g.fire("doksoft_advanced_blocks_on_change_selective");aa.removeAttribute("active");};var s=0;var v=false;var n=g.addCommand("doksoft_advanced_blocks",{readOnly:1,preserveState:true,editorFocus:false,exec:function(ag){this.toggleState();if(this.state==CKEDITOR.TRISTATE_ON){K();}else{E();}}});g.on("toDataFormat",function(ag){ag.data.dataValue=ag.data.dataValue.replace(RegExp('[\n\rs]*<i[^>]+class="doksoft_advanced_blocks_temper_block[^>]+></i>[\n\rs]*',"g"),"").replace(RegExp('[\n\rs]*<a[^>]+class="doksoft_advanced_blocks_temper_block[^>]+></a>[\n\rs]*',"g"),"").replace(RegExp('[\n\rs]*<a[^>]+class="doksoft_advanced_blocks_temper_place[^>]+></a>[\n\rs]*',"g"),"").replace(RegExp("doksoft_advanced_blocks[-a-z0-9]*","g"),"");},null,null,16);g.on("mode",function(){if(g.mode=="wysiwyg"&&ab){S();}});function x(an,am){var ak=[an],aj,al,ai=false,ah=false;while(aj=ak.pop()){if(aj.nodeType!=3&&aj.tagName&&~am.indexOf(aj.tagName.toLowerCase())){return true;}else{var ag=aj.childNodes.length;while(ag--){ak.push(aj.childNodes[ag]);}}}return false;}g.on("doksoft_advanced_blocks_delete",function(aj){if(aj.data.parent){aj.data.parent.removeAttribute("data-doksoft_advanced_blocks-X-selected");g.fire("saveSnapshot");if(window["doksoft_blocks_select_"+a(g)]){for(var ah=0;ah<window["doksoft_blocks_select_"+a(g)].length;ah++){window["doksoft_blocks_select_"+a(g)][ah](g,null);}}var ak=aj.data.parent.parentNode,ag=aj.data.parent.tagName?aj.data.parent.tagName.toLowerCase():"";ak.removeChild(aj.data.parent);if((ag=="td"||ag=="th")&&ak){while(ak.tagName.toLowerCase()!="table"&&ak.tagName.toLowerCase()!="tr"&&ak.parentNode){ak=ak.parentNode;}if(!x(ak,["td","th"])){var ai=ak.parentNode;while(ai.tagName.toLowerCase()!="table"&&ai.parentNode){ai=ai.parentNode;}ak.parentNode.removeChild(ak);if(!x(ai,["td","th"])){ai.parentNode.removeChild(ai);}}}s=0;}});var y=function(ah){var ag=ah.keyCode||ah.data.$.keyCode;switch(parseInt(ag)){case 46:break;}};window.addEventListener("keydown",y,true);var l=function l(ah,aq){var ag=0,an=g.document.$.createRange();an.setStart(ah,0);var am=[ah],ai,aj,ak=false,ap=false;while(!ap&&(ai=am.pop())){if(ai.nodeType==3){aj=ai;var ao=ag+ai.length;if(!ak&&aq>=ag&&aq<=ao){an.setStart(ai,aq-ag);ak=true;}if(ak&&aq>=ag&&aq<=ao){an.setEnd(ai,aq-ag);ap=true;}ag=ao;}else{var al=ai.childNodes.length;while(al--){am.push(ai.childNodes[al]);}}}if(!ak&&aj){an.setStart(aj,ag);an.setEnd(aj,ag);}var ar=g.document.getWindow().$.getSelection();ar.removeAllRanges();ar.addRange(an);};g.on("instanceReady",function(){if(g.config["doksoft_advanced_blocks_enabled_by_default"]){n.exec(g);}g.on("beforeSetMode",u);});g.ui.addButton("doksoft_advanced_blocks",{label:"doksoft_advanced_blocks",command:"doksoft_advanced_blocks",icon:this.path+"icons/doksoft_advanced_blocks.png",toolbar:"tools,20",title:g.lang["doksoft_advanced_blocks"].title});g.on("instanceReady",function(aj){var ak=g.ui.spaceId("path"),ah,ag=function(){if(!ah){ah=CKEDITOR.document.getById(ak);}return ah;};var ai=ag();if(typeof ai!="undefined"&&ai!=null){ai.$.addEventListener("click",function(ao){var al=ao||window.event;var an=al.target||al.srcElement;var am=parseInt(an.id.match(/_([0-9]+)$/)[1]);if(g._.elementsPath&&g._.elementsPath.list&&g._.elementsPath.list[am]){H(g._.elementsPath.list[am].$);}});}});CKEDITOR.dialog.add("doksoft_advanced_blocks_insert_tag_"+g.name,function(ag){return{title:ag.lang["doksoft_advanced_blocks"].dlg_insert_tag_title,minWidth:400,minHeight:200,contents:[{id:"tab_basic_"+ag.name,elements:[{type:"hbox",widths:[null,null],styles:["vertical-align:top"],children:[{type:"vbox",padding:0,children:[{type:"text",id:"tagName_"+ag.name,"default":"div",label:ag.lang["doksoft_advanced_blocks"].dlg_insert_tag_label_name,required:true,style:"margin-bottom: 10px"},{type:"text",id:"tagId_"+ag.name,label:"ID:",style:"margin-bottom: 10px"},{type:"text",id:"tagClass_"+ag.name,label:"Class:",style:"margin-bottom: 10px"},{type:"text",id:"tagStyle_"+ag.name,label:"Style:",style:"margin-bottom: 10px"}]}]}]}],onCancel:function(){b("selectedElement",null);
},onOk:function(){var ai=this.getValueOf("tab_basic_"+ag.name,"tagName_"+ag.name);if(ai.length<1){return false;}var aj=ai.replace(/[^a-z0-9]/ig,"").toLowerCase();var ah=ag.document.$.createElement(aj?aj:"div");ah.className=this.getValueOf("tab_basic_"+ag.name,"tagClass_"+ag.name);ah.setAttribute("style",this.getValueOf("tab_basic_"+ag.name,"tagStyle_"+ag.name));ah.setAttribute("id",this.getValueOf("tab_basic_"+ag.name,"tagId_"+ag.name));ah.innerHTML=ai;k(ah,f("selectedElement"));b("selectedElement",null);}};});var D="";CKEDITOR.dialog.add("doksoft_advanced_blocks_insert_table_"+g.name,function(al){var ar=al.config["doksoft_advanced_blocks_gui_width"]||6,ak=al.config["doksoft_advanced_blocks_gui_height"]||3,an=false,aj,ag,ao,ai,ah,am,ap,aq;return{title:al.lang["doksoft_advanced_blocks"].dlg_insert_table_title,minWidth:250,minHeight:160,contents:[{id:"tab_basic12_"+al.name,elements:[{type:"hbox",widths:[null,null],styles:["vertical-align:top"],children:[{type:"vbox",padding:0,children:[{type:"html",id:"tableHTML",html:'<table border="0" cellspacing="0" cellpadding="0">'+"<tr>"+"<td>"+'<div id="doksoft_advanced_blocks-box_'+al.name+'">'+'<table border="0" cellpadding="1" cellspacing="1">'+(function(){tb="";var at=Math.round(140/ar);for(var av=1;av<=ak;av++){tb+='<tr id="doksoft_advanced_blocks-tr_'+al.name+av+'">';for(var au=1;au<=ar;au++){tb+='<td id="doksoft_advanced_blocks-td_'+al.name+"_"+av+"-"+au+'" style="border:1px solid #c3d9ff; background-color:#ddeafb;width:'+at+"px;height:"+at+'px;"></td>';}tb+="</tr>";}return tb;})()+"</table>"+"</div>"+'<div id="doksoft_advanced_blocks-sizer_'+al.name+'" style="text-align:center">1:1</div>'+"</td>"+'<td style="vertical-align:top;">&nbsp;&nbsp;&nbsp;</td>'+'<td style="vertical-align:top;">'+"<table>"+"<tr>"+'<td><input style="width:50px;" class="cke_dialog_ui_input_text" value="1" type="number" id="doksoft_advanced_blocks-rows_'+al.name+'"/></td>'+"<td>&nbsp;x&nbsp;</td>"+'<td><input style="width:50px;" class="cke_dialog_ui_input_text" value="1" type="number" id="doksoft_advanced_blocks-cols_'+al.name+'"/></td>'+"</tr>"+"<tr>"+'<td colspan="3" style="width:20px;vertical-align:middle;padding-top:7px;">'+"<label>"+'<input type="checkbox" id="doksoft_advanced_blocks-headers_'+al.name+'" style="width: 13px;height: 13px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -1px;margin-right: 5px;"/>'+al.lang["doksoft_advanced_blocks"].dlg_insert_table_label_header+"</label>"+"</td>"+"</tr>"+(!d?"<tr>"+'<td colspan="3" style="width:20px;vertical-align:middle;padding-top:7px;">'+"<label>"+'<input type="checkbox" id="doksoft_advanced_blocks-width_'+al.name+'" style="width: 13px;height: 13px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -1px;margin-right: 5px;"/>'+al.lang["doksoft_advanced_blocks"].dlg_insert_table_label_width_100+"</label>"+"</td>"+"</tr>":"")+(d==1?"<tr>"+'<td colspan="3" style="width:20px;vertical-align:middle;padding-top:7px;">'+"<label>"+'<input type="checkbox" id="doksoft_advanced_blocks-striped_'+al.name+'" style="width: 13px;height: 13px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -1px;margin-right: 5px;"/>'+al.lang["doksoft_advanced_blocks"].dlg_insert_table_label_stripped+"</label>"+"</td>"+"</tr>"+"<tr>"+'<td colspan="3" style="width:20px;vertical-align:middle;padding-top:7px;">'+"<label>"+'<input type="checkbox" id="doksoft_advanced_blocks-bordered_'+al.name+'" style="width: 13px;height: 13px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -1px;margin-right: 5px;"/>'+al.lang["doksoft_advanced_blocks"].dlg_insert_table_label_bordered+"</label>"+"</td>"+"</tr>"+"<tr>"+'<td colspan="3" style="width:20px;vertical-align:middle;padding-top:7px;">'+"<label>"+'<input type="checkbox" id="doksoft_advanced_blocks-condenced_'+al.name+'" style="width: 13px;height: 13px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -1px;margin-right: 5px;"/>'+al.lang["doksoft_advanced_blocks"].dlg_insert_table_label_condenced+"</label>"+"</td>"+"</tr>":"")+"</table>"+"</td>"+"</tr>"+"</table>"}]}]}]}],onCancel:function(){b("selectedElement",null);},onShow:function(){an=true;},onLoad:function(){aj=document.getElementById("doksoft_advanced_blocks-box_"+al.name);ag=document.getElementById("doksoft_advanced_blocks-sizer_"+al.name);ao=document.getElementById("doksoft_advanced_blocks-cols_"+al.name);ai=document.getElementById("doksoft_advanced_blocks-rows_"+al.name);headers=document.getElementById("doksoft_advanced_blocks-headers_"+al.name);ah=document.getElementById("doksoft_advanced_blocks-width_"+al.name);am=document.getElementById("doksoft_advanced_blocks-striped_"+al.name);ap=document.getElementById("doksoft_advanced_blocks-bordered_"+al.name);aq=document.getElementById("doksoft_advanced_blocks-condenced_"+al.name);ao.onblur=ai.onblur=function(){var at=parseInt(this.value.replace(/[^0-9]/g,""));this.value=(!isNaN(at)&&at>0)?at:1;};aj.onmouseover=function(au){if(!an){return false;
}var ax=au||window.event;var at=(ax.srcElement||ax.target);if(at.tagName.toLowerCase()=="td"){var ay=/_([0-9]+)-([0-9]+)$/.exec(at.id);for(var aw=1;aw<=ak;aw++){for(var av=1;av<=ar;av++){document.getElementById("doksoft_advanced_blocks-td_"+al.name+"_"+aw+"-"+av).style.backgroundColor=(aw<=parseInt(ay[1])&&av<=parseInt(ay[2]))?"#abcfff":"#ddeafb";}}ag.innerHTML=ay[1]+":"+ay[2];ai.value=parseInt(ay[1]);ao.value=parseInt(ay[2]);}};aj.onmousedown=function(au){var ax=au||window.event;var at=(ax.srcElement||ax.target);if(at.tagName.toLowerCase()=="td"){var ay=/_([0-9]+)-([0-9]+)$/.exec(at.id);an=false;for(var aw=1;aw<=ak;aw++){for(var av=1;av<=ar;av++){document.getElementById("doksoft_advanced_blocks-td_"+al.name+"_"+aw+"-"+av).style.backgroundColor=(aw<=parseInt(ay[1])&&av<=parseInt(ay[2]))?"#abcfff":"#ddeafb";}}ag.innerHTML=ay[1]+":"+ay[2];ai.value=parseInt(ay[1]);ao.value=parseInt(ay[2]);}};},onOk:function(){var aB=[(!isNaN(parseInt(ai.value))&&parseInt(ai.value)>0)?parseInt(ai.value):1,(!isNaN(parseInt(ao.value))&&parseInt(ao.value)>0)?parseInt(ao.value):1];var aA=al.document.$.createElement("table");var az;var au;var at;if(headers.checked){var ay=al.document.$.createElement("thead");aA.appendChild(ay);for(var aw=0;aw<aB[1];aw++){at=al.document.$.createElement("th");at.innerHTML="th";ay.appendChild(at);}}var ax=al.document.$.createElement("tbody");aA.appendChild(ax);for(var aw=0;aw<aB[0];aw++){az=al.document.$.createElement("tr");for(var av=0;av<aB[1];av++){au=al.document.$.createElement("td");au.innerHTML="td";az.appendChild(au);}ax.appendChild(az);}switch(d){case 0:if(ah.checked){aA.style.width="100%";}break;case 1:aA.className="table ";if(am.checked){aA.className+="table-striped ";}if(ap.checked){aA.className+="table-bordered ";}if(aq.checked){aA.className+="table-condensed ";}aA.className=aA.className.trim();break;}k(aA,f("selectedElement"));b("selectedElement",null);}};});CKEDITOR.dialog.add("doksoft_advanced_blocks_insert_code_"+g.name,function(ag){return{title:ag.lang["doksoft_advanced_blocks"].dlg_insert_code_title,minWidth:400,minHeight:160,contents:[{id:"tab_basic1_"+ag.name,elements:[{type:"hbox",widths:[null,null],styles:["vertical-align:top"],children:[{type:"vbox",padding:0,children:[{type:"textarea",id:"codeHTML_"+ag.name,"default":"<div>div</div>",label:ag.lang["doksoft_advanced_blocks"].dlg_insert_code_label,inputStyle:"resize:vertical;white-space: nowrap;font-size:13px; line-height:14px;min-height:160px;",required:true}]}]}]}],onCancel:function(){b("selectedElement",null);},onLoad:function(){var ai=document.getElementById(this.getContentElement("tab_basic1_"+ag.name,"codeHTML_"+ag.name)._.inputId);var ah=function(){var aj=this.value.split(/[\n\r]/).length;this.style.height=(aj>10?(aj*16):160)+"px";};ai.addEventListener("keyup",ah);ai.addEventListener("mouseup",ah);},onOk:function(){var ai=this.getValueOf("tab_basic1_"+ag.name,"codeHTML_"+ag.name);if(ai.length<1){return false;}var ah=ag.document.$.createElement("div");ah.innerHTML=this.getValueOf("tab_basic1_"+ag.name,"codeHTML_"+ag.name);k(ah.firstChild,f("selectedElement"));b("selectedElement",null);}};});}});CKEDITOR.config["doksoft_advanced_blocks_margin"]=false;CKEDITOR.config["doksoft_advanced_blocks_use_buttons"]=true;CKEDITOR.config["doksoft_advanced_blocks_highlight_blocks"]=true;CKEDITOR.config["doksoft_advanced_blocks_margin_top"]=5;CKEDITOR.config["doksoft_advanced_blocks_margin_right"]=0;CKEDITOR.config["doksoft_advanced_blocks_margin_bottom"]=5;CKEDITOR.config["doksoft_advanced_blocks_margin_left"]=0;CKEDITOR.config["doksoft_advanced_blocks_multiline_titles"]=true;CKEDITOR.config["doksoft_advanced_blocks_gui_width"]=6;CKEDITOR.config["doksoft_advanced_blocks_gui_height"]=6;CKEDITOR.config["doksoft_advanced_blocks_enabled_by_default"]=true;CKEDITOR.config["doksoft_advanced_blocks_big_icons"]=true;CKEDITOR.config["doksoft_advanced_blocks_min_div_width"]=40;CKEDITOR.config["doksoft_advanced_blocks_min_div_height"]=40;})();